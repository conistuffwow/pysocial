{% extends "base.html" %}

{% block title %}Feed{% endblock %}

{% block content %}
<h2> Feed </h2>

<form method="POST" action="{{ url_for('main.post') }}">
    <textarea name="content" rows="3" cols="40" placeholder="post some fuckin shit!!" required></textarea><br>
    <button type="submit">Post</button>
</form>

<ul>
    {% for post in posts %}
        <li>
            <strong><a href="{{ url_for('main.profile', username=post.user.username) }}">{{ post.user.username }}</a></strong>
            {{ post.content }}
            <form action="{{ url_for('main.like', post_id=post.id) }}" method="post" style="display:inline;">
                <button type="submit">like {{ post.likes }}</button>
            </form>
            <form action="{{ url_for('main.dislike', post_id=post.id) }}" method="post" style="display:inline;">
                <button type="submit">dislike {{ post.dislikes }}</button>
            </form>
        </li>
    {% else %}
        <li>
            Nobody has posted... anything???
        </li>
    {% endfor %}
</ul>
{% endblock %}